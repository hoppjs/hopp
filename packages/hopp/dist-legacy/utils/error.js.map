{"version":3,"sources":["../../src/utils/error.js"],"names":["simplifyError","err","here","stack","split","substr","indexOf","substack","slice","join","line","length"],"mappings":";;;;;kBAUwBA,a;AAVxB;;;;;;AAMA;;;;AAIe,SAASA,aAAT,CAAwBC,GAAxB,EAA6BC,IAA7B,EAAmC;AAChDA,SAAOA,KAAKC,KAAL,CAAWC,KAAX,CAAiB,IAAjB,EAAuB,CAAvB,CAAP;AACAF,SAAOA,KAAKG,MAAL,CAAY,CAAZ,EAAeH,KAAKI,OAAL,CAAa,MAAb,CAAf,CAAP;;AAEA,MAAMC,WAAWN,IAAIE,KAAJ,CAAUC,KAAV,CAAgB,IAAhB,CAAjB;AACA,MAAID,QAAQI,SAASC,KAAT,CAAe,CAAf,EAAkB,CAAlB,EAAqBC,IAArB,CAA0B,IAA1B,IAAkC,IAA9C;;AALgD;AAAA;AAAA;;AAAA;AAOhD,yBAAmBF,SAASC,KAAT,CAAe,CAAf,CAAnB,8HAAsC;AAAA,UAA3BE,IAA2B;;AACpC,UAAIA,KAAKJ,OAAL,CAAaJ,IAAb,MAAuB,CAAC,CAA5B,EAA+B;AAC7B;AACD;;AAEDC,eAASO,OAAO,IAAhB;AACD;AAb+C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAehD,SAAO,EAAEP,OAAOA,MAAME,MAAN,CAAa,CAAb,EAAgBF,MAAMQ,MAAN,GAAe,CAA/B,CAAT,EAAP;AACD","file":"../../src/utils/error.js","sourcesContent":["/**\n * @file utils/stack.js\n * @license MIT\n * @copyright 2017 10244872 Canada Inc.\n */\n\n/**\n * Simplifies an error's stack trace by removing\n * the stack trace lines that are part of hopp.\n */\nexport default function simplifyError (err, here) {\n  here = here.stack.split('\\n')[1]\n  here = here.substr(0, here.indexOf('.js:'))\n\n  const substack = err.stack.split('\\n')\n  let stack = substack.slice(0, 2).join('\\n') + '\\n'\n\n  for (const line of substack.slice(2)) {\n    if (line.indexOf(here) !== -1) {\n      break\n    }\n\n    stack += line + '\\n'\n  }\n\n  return { stack: stack.substr(0, stack.length - 1) }\n}\n"]}